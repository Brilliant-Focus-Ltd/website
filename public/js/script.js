(()=>{var a={numberOfLines:24,angle:-30},c={numberOfLines:24,angle:0};var s=class{constructor(t,e,n){this.scene=t;this.hitbox=e;this.header=n;this.setupEventListeners()}isDragging=!1;currentX=50;currentY=50;startX=0;startY=0;setupEventListeners(){this.hitbox.addEventListener("mousedown",this.handleMouseDown),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),this.hitbox.addEventListener("touchstart",this.handleTouchStart),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("touchend",this.handleTouchEnd)}handleMouseDown=t=>{this.isDragging=!0;let e=this.header.getBoundingClientRect();this.startX=t.clientX-e.width*(this.currentX/100),this.startY=t.clientY-e.height*(this.currentY/100),this.hitbox.style.cursor="grabbing"};handleMouseMove=t=>{if(!this.isDragging)return;let e=this.header.getBoundingClientRect(),n=t.clientX-this.startX,r=t.clientY-this.startY;this.updatePosition(n,r,e.width,e.height)};handleMouseUp=()=>{this.isDragging=!1,this.hitbox.style.cursor="grab"};handleTouchStart=t=>{if(t.touches.length!==1)return;t.preventDefault(),this.isDragging=!0;let e=t.touches[0],n=this.header.getBoundingClientRect();this.startX=e.clientX-n.width*(this.currentX/100),this.startY=e.clientY-n.height*(this.currentY/100)};handleTouchMove=t=>{if(!this.isDragging||t.touches.length!==1)return;t.preventDefault();let e=t.touches[0],n=this.header.getBoundingClientRect(),r=e.clientX-this.startX,o=e.clientY-this.startY;this.updatePosition(r,o,n.width,n.height)};handleTouchEnd=()=>{this.isDragging=!1};updatePosition(t,e,n,r){this.currentX=Math.max(0,Math.min(100,t/n*100)),this.currentY=Math.max(0,Math.min(100,e/r*100)),this.scene.style.left=`${this.currentX}%`,this.scene.style.top=`${this.currentY}%`}};var g=(i,t)=>{let e=document.createElement("div");return e.className=i,e.style.transform=t,e},d=(i,t,e,n)=>{let r=document.createDocumentFragment(),o=360/t.numberOfLines;Array.from({length:t.numberOfLines}).forEach((p,u)=>{let l=g(e,n(u*o));r.appendChild(l)}),i.appendChild(r)},m=(i,t)=>{d(i,t,"line",e=>`rotateY(${e}deg) rotateX(${t.angle}deg)`)},v=(i,t)=>{d(i,t,"ray",e=>`rotateZ(90deg) rotateX(${e}deg)`)},h=()=>{let i=document.querySelector(".scene"),t=document.getElementById("cone"),e=document.getElementById("rays"),n=i?.querySelector(".hitbox"),r=document.querySelector(".header");if(!i||!t||!e||!n||!r){console.error("Required elements not found");return}m(t,a),v(e,c),n.style.cursor="grab",new s(i,n,r)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",h):h();})();
